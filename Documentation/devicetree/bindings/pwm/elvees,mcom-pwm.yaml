# SPDX-License-Identifier: GPL-2.0-only OR BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/pwm/elvees,mcom-pwm.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: ELVEES MCom-03 PWM controller

maintainers:
  - Ilya Popov <ipopov@elvees.com>

description: |+
  Bindings for the ELVEES MCom-03 PWM controller.

  These bindings can be used on MCom-03 SoC.

  ELVEES MCom-03 PWM controller supports 4 channels and only one output for
  each channel.


properties:
  compatible:
    enum:
      - elvees,mcom-pwm

  "#pwm-cells":
    const: 2

  reg:
    maxItems: 1

  clocks:
    maxItems: 1

  elvees,output-channel:
    description: |+
      Array defines which output port to use for PWM channels.
      Value 0: OUTA; Value 1: OUTB
    $ref: /schemas/types.yaml#/definitions/uint32-array
    minItems: 4
    maxItems: 4
    items:
      minimum: 0
      maximum: 1

  elvees,state-on-disable:
    description: |+
      Array defines action on output port when pwm channel gets disabled.
      Value 0: no action;
      Value 1: set output to 0;
      Value 2: set output to 1;
      Value 3: toggle output.
    $ref: /schemas/types.yaml#/definitions/uint32-array
    minItems: 4
    maxItems: 4
    items:
      minimum: 0
      maximum: 3

required:
  - compatible
  - reg
  - '#pwm-cells'
  - clocks


additionalProperties: false

examples:
  - |
    pwm: pwm@0x1770000 {
      compatible = "elvees,mcom-pwm";
      reg = <0 0x1770000 0 0x1000>;
      #pwm-cells = <2>;
      clocks = <&lsperiph1_ucg0 8>;
      elvees,output-channel = <1 0 0 0>;
      elvees,state-on-disable = <1 0 0 0>;
    };
